dnl Process this file with autoconf to produce a configure script.
AC_PREREQ(2.53)
AC_INIT(src/example.mx)
AC_CONFIG_AUX_DIR(conf)
AC_CANONICAL_HOST
AC_CANONICAL_TARGET
AH_TOP([#include "monetdb_config.h"])
AH_TOP([#include "sysdefs.h"])
AH_BOTTOM([#include "stddef.h"])

dnl ----------------------
AM_INIT_AUTOMAKE("template", 0.1, [no-define])
AM_CONFIG_HEADER(template_config.h:conf/config.h.in)
CONFIG_H=template_config.h
AC_SUBST(CONFIG_H)

HOST=[$target]
AC_DEFINE_UNQUOTED(HOST, "$HOST", [Host identifier])

dnl Check for Monet
AM_MONET_COMPILER()
AM_MONET_TOOLS()
AM_MONET_OPTIONS()
AM_MONET_LIBS()
AM_MONET_CLIENT(4.3.17)
if test "x$have_monet" != xyes; then
	AC_MSG_ERROR(Monet is not found.)
fi

dnl  C[XX]FLAGS for our code are stricter than what autoconf can cope with.
CFLAGS="$CFLAGS \$(X_CFLAGS)"
CXXFLAGS="$CXXFLAGS \$(X_CXXFLAGS)"

