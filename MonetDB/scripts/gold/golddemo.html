<h2> The Gold Demo Database</h2>
<p>
MonetDB has paid a pivotal role in the development of datamining
applications at DataDistilleries (now SPSS).
During its course of development we used a small mock-up database
to study performance issues.
This database is included in the distribution directory scripts/gold
and provides an easy way to explore some of the MonetDB's functionality
when it comes to processing MIL queries.
The steps below should help you understand some of the basics in
using MonetDB.
</p>

<h4>Creating the database:</h4>
<p>
We suppose you have configured and succesfully installed MonetDB
in a directory $MONETDB_PREFIX. 
Make sure $MONETDB_PREFIX/bin is in your PATH and type:
</p>
<pre>
$ mkdir $MONETDB_PREFIX/var/MonetDB/dbfarm/gold
</pre>
<p>
So, creating a database is nothing more than creating a directory in the 
'dbfarm' directory (the default dbfarm is $MONETDB_PREFIX/var/MonetDB/dbfarm)
This manual step is only meant as an illustration, because when the
environment variables are set, type the following would produce
the same effects and produces a message that the database has been initialized.
</p>
<pre>
$ Mserver --dbname=gold
# Monet Database Server V4.3.17
# Copyright (c) 1993-2004, CWI. All rights reserved.
# Compiled for i686-pc-linux-gnu/32bit; dynamically linked.
# Visit http://monetdb.cwi.nl for further information.
monet&gt;
</pre>
<p>
Note that the actual output may slightly differ, depending on
the version downloaded and the system it runs on.
A different dbfarm location can be choosen and passed to
Mserver with the --dbfarm=&lt;dir&gt; command line switch.
</p>

 
<h4>Loading the database:</h4>
<p>
A small MIL script is provided to quickly populating the database.
It uses a compressed file with tuples to be inserted and a format
file for the database loader.
</p>
<pre>
$ export TSTTRGDIR=`pwd`
$ Mserver --dbname=gold &lt; load.mil
</pre>

<h4>Create two supportive tables:</h4>
<p>
The database is now loaded. A few more tables are constructed
for subsequent processing. 
Don;t bother the output layout, because this script is
also used every night as part of the intensive testing machinery.
It suffices to note that we now have a skewed insurance
database with 100K entries, half of which has claimed damage.
</p>
<pre>
$ Mserver --dbname=gold &lt; init.mil
</pre>

<h4>Running the experiment:</h4>
<p>
With all pieces in place we can run an experiment.
The queries illustrate what would be produced by an
end-user mining for gold at a single button click.
The file tst100.mil provides an
outlook on the proprietary query language of MonetDB.
This query sequence was originally generated by the
application front-end.
</p>
<pre>
$ Mserver --dbname=gold tst100.mil &gt;output
$ sh summary
</pre>
<p>
The timing for each datamining step is summarized.

<h3>Virtual OID Demo</h3>
<p>
A key feature to gain tremendous speed in this application domain
is its ability to deal with virtual OIDs. They do not require
storage space, but can be used to speed-up processing significantly.
In order to use the virtual oid features, first create a vectorized 
database with the void.mil script. Make sure that you have the 
'str' and 'enum' modules installed!
</p>
<pre>
$ Mserver --dbname=gold &lt; void.mil
$ Mserver --dbname=gold tstvoid.mil >output
$ sh summary
</pre>
<p>
It will run somewhat faster..
</p>

