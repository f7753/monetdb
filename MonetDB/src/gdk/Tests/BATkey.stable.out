stdout of test 'BATkey` in directory 'src/gdk` itself:

#> Mtest (15:58:32):	milM BATkey milM
#> Mtest (15:58:32):	Mtimeout -timeout 600 Mserver -p -modulesilent -yaccsilent -d8 -db src_gdk
# Monet Database Server V4.2
# Copyright (c) 1993-1999, CWI & SION. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit.


#You are system administrator (adm)!
> _MMnilcast_5 := new(void,oid).import(ttd+"/BATkey.x.data").seqbase(0@0).rename("_MMnilcast_5"); 
> indexList1 := new(oid,oid).import(ttd+"/BATkey.y.data").rename("indexList1"); 
> _MMnilcast_5.print; 
#-------------------------#
# BAT:	  _MMnilcast_5	  #
# (void)  (oid)		  #
#-------------------------#
[ 0@0,	  10@0		  ]
[ 1@0,	  11@0		  ]
[ 2@0,	  12@0		  ]
> indexList1.print; 
#-------------------------#
# BAT:	  indexList1	  #
# (oid)	  (oid)		  #
#-------------------------#
[ 10@0,	  100@0		  ]
[ 10@0,	  101@0		  ]
[ 11@0,	  102@0		  ]
[ 12@0,	  103@0		  ]
> _MMjoin_13 := join(_MMnilcast_5,indexList1).rename("_MMjoin_13"); 
> _MMjoin_13.print; 
#-------------------------#
# BAT:	  _MMjoin_13	  #
# (oid)	  (void)	  #
#-------------------------#
[ 0@0,	  100@0		  ]
[ 0@0,	  101@0		  ]
[ 1@0,	  102@0		  ]
[ 2@0,	  103@0		  ]
> _MMcastnil_14 := _MMjoin_13.mark(0@0).rename("_MMcastnil_14"); 
> _MMcastnil_14.print; 
#-------------------------#
# BAT:	  _MMcastnil_14	  #
# (oid)	  (void)	  #
#-------------------------#
[ 0@0,	  0@0		  ]
[ 0@0,	  1@0		  ]
[ 1@0,	  2@0		  ]
[ 2@0,	  3@0		  ]
> _MMnilcast_15 := _MMjoin_13.reverse.mark(0@0).reverse.rename("_MMnilcast_15"); 
# Here, _MMnilcast_15 gets incorrectly marked haligned with it parent _MMjoin_13.
> _MMnilcast_15.print; 
#-------------------------#
# BAT:	  _MMnilcast_15	  #
# (void)  (void)	  #
#-------------------------#
[ 0@0,	  100@0		  ]
[ 1@0,	  101@0		  ]
[ 2@0,	  102@0		  ]
[ 3@0,	  103@0		  ]
> orderList1 := new(oid,int).import(ttd+"/BATkey.z.data").rename("orderList1"); 
> orderList1.print; 
#-------------------------#
# BAT:	  orderList1	  #
# (oid)	  (int)		  #
#-------------------------#
[ 100@0,  1		  ]
[ 101@0,  2		  ]
[ 102@0,  3		  ]
[ 103@0,  4		  ]
> _MMjoin_44 := join(_MMnilcast_15,orderList1).rename("_MMjoin_44"); 
# Due to the erroneous halign setting, BATkey(_MMnilcast_15,TRUE) is wrongly propagated to _MMjoin_13.
> _MMjoin_44.print;  
#-------------------------#
# BAT:	  _MMjoin_44	  #
# (void)  (int)		  #
#-------------------------#
[ 0@0,	  1		  ]
[ 1@0,	  2		  ]
[ 2@0,	  3		  ]
[ 3@0,	  4		  ]
> _MMcastnil_14.print; 
#-------------------------#
# BAT:	  _MMcastnil_14	  #
# (oid)	  (void)	  #
#-------------------------#
[ 0@0,	  0@0		  ]
[ 0@0,	  1@0		  ]
[ 1@0,	  2@0		  ]
[ 2@0,	  3@0		  ]
> _MMreverse_49 := reverse(_MMcastnil_14).rename("_MMreverse_49"); 
# _MMcastnil_14 is correctly marked haligned with _MMjoin_13, hence BATpropcheck
# (correctly) propagates the (wrong) key property from _MMjoin_13 to _MMcastnil_14.
# Finally, BATpropcheck (correctly) detects that _MMcastnil_14 is "incorrectly marked keyed".
> _MMreverse_49.print;  
#-------------------------#
# BAT:	  _MMreverse_49	  #
# (void)  (oid)		  #
#-------------------------#
[ 0@0,	  0@0		  ]
[ 1@0,	  0@0		  ]
[ 2@0,	  1@0		  ]
[ 3@0,	  2@0		  ]
