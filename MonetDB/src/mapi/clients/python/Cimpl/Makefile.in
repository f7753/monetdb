# The contents of this file are subject to the MonetDB Public
# License Version 1.0 (the "License"); you may not use this file
# except in compliance with the License. You may obtain a copy of
# the License at
# http://monetdb.cwi.nl/Legal/MonetDBLicense-1.0.html
#
# Software distributed under the License is distributed on an "AS
# IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
# implied. See the License for the specific language governing
# rights and limitations under the License.
#
# The Original Code is the Monet Database System.
#
# The Initial Developer of the Original Code is CWI.
# Portions created by CWI are Copyright (C) 1997-2004 CWI.
# All Rights Reserved.
#
# Contributor(s):
#		Martin Kersten <Martin.Kersten@cwi.nl>
#		Peter Boncz <Peter.Boncz@cwi.nl>
#		Niels Nes <Niels.Nes@cwi.nl>
#		Stefan Manegold  <Stefan.Manegold@cwi.nl>

srcdir = @srcdir@
SWIG = @SWIG@
PYTHON = @PYTHON@

all: all-am
all-am: Mapi_wrap.c Mapi.py $(srcdir)/setup.py
	$(PYTHON) $(srcdir)/setup.py build

Mapi_wrap.c: $(srcdir)/Mapi.i ../../C/Mapi.h
	$(SWIG) -outdir . -o Mapi_wrap.c -python -I../../C $(srcdir)/Mapi.i

Mapi.py: $(srcdir)/Mapi.py
	cp $(srcdir)/Mapi.py .

install: install-am
install-am: all-am $(srcdir)/setup.py
	$(PYTHON) $(srcdir)/setup.py install --record install-am

install-data:
install-data-am: all-am $(srcdir)/setup.py
	$(PYTHON) $(srcdir)/setup.py install_data --record install-am

install-exec:
install-exec-am: all-am $(srcdir)/setup.py
	$(PYTHON) $(srcdir)/setup.py install_lib
	$(PYTHON) $(srcdir)/setup.py install_scripts --record install-am

uninstall: uninstall-am
uninstall-am:
	rm `cat install-am`

clean:
	rm -f Mapi_wrap.c MapiLib.py Mapi.py
	rm -rf build

# automake targets
check:
check-am:
distdir:
distdir-am:
dvi:
dvi-am:
info:
info-am:
installcheck:
installcheck-am:
installdirs:
installdirs-am:
install-info:
install-info-am:
maintainer-clean:
maintainer-clean-am:
tags:
tags-am:
uninstall-info:
uninstall-info-am:
