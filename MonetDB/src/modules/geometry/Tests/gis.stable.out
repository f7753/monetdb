stdout of test 'gis` in directory 'src/modules/geometry` itself:

#> Mtest:	other gis
#> Mtest:	Mtimeout -timeout 1200 ./gis gis
#> Mlog:	Mtimeout -timeout 600 Mserver -modulesilent -yaccsilent -d8 -db modules_geometry gis.mil
# Monet Database Server V4.1
# Copyright (c) 1993-1999, CWI & SION. All rights reserved.
# compiled for IRIX646.5/32bit on Tue Jan 18 14:49:14 MET 2000.
#script:gis.mil


#You are system administrator (adm)!

#line 3067 "gis.mx"
setoid(oid(20000000));


p1 := point("(3,3)");
p2 := point("(.5,.5)");
b := box("(0,1,1,0)");
c := circle("((0,0),1)");
s := segment("((0,1),(3,3))");
pln := polyline("(3:0,0,3,3,0,1)");
pgn := polygon("(3:0,0,3,3,0,1)");
cpg := cpolygon("(1:(4:0,0,10,0,10,10,0,10) (3:1,1,9,7,7,9))");
pgns := new(int,polygon);
pgns.insert(1,pgn);

p := polygon("(4:0,0,0,1,1,1,1,0)");
p.reverse.triangulate.print;
#-----------------------------------------#
# BAT:		  tmp_26		  #
# (oid)		  (segment)		  #
#-----------------------------------------#
[ 20000043@0,	  ((1.0,0.0),(0.0,1.0))	  ]
p.triangulate.print;
#-----------------------------------------#
# BAT:		  tmp_26		  #
# (oid)		  (segment)		  #
#-----------------------------------------#
[ 20000048@0,	  ((1.0,0.0),(0.0,1.0))	  ]

cpg := cpg.addhole(polygon("(3:2,3,4,5,5,4)"));

p1.print;
[ (3.0,3.0) ]
b.print;
[ (0.0,1.0,1.0,0.0) ]
c.print;
[ ((0.0,0.0),1.0) ]
s.print;
[ ((0.0,1.0),(3.0,3.0)) ]
pln.print;
[ (3:0.0,0.0,3.0,3.0,0.0,1.0) ]
pgn.print;
[ (3:0.0,0.0,3.0,3.0,0.0,1.0) ]
cpg.print;
[ (2:(4:0.0,0.0,10.0,0.0,10.0,10.0,0.0,10.0)(3:1.0,1.0,9.0,7.0,7.0,9.0)(3:2.0,3.0,4.0,5.0,5.0,4.0)) ]


# all shoult return true.

p1.ok.print;
[ true ]
b.ok.print;
[ true ]
c.ok.print;
[ true ]
s.ok.print;
[ true ]
pln.ok.print;
[ true ]
pgn.ok.print;
[ true ]
cpg.ok.print;
[ true ]
p1.inside(b).not.print;
[ true ]
p2.inside(b).print;
[ true ]
(b.area = dbl(1)).print;
[ true ]
(pgn.index(1) = p1).print;
[ true ]
(pln.src = point("(0,0)")).print;
[ true ]
(pgn.bbox = box("(0.000000,3.000000,3.000000,0.000000)")).print;
[ true ]
(pln.bbox = box("(0.000000,3.000000,3.000000,0.000000)")).print;
[ true ]
(s.bbox = box("(0.000000,3.000000,3.000000,1.000000)")).print;
[ true ]
(c.bbox = box("(-1.000000,1.000000,1.000000,-1.000000)")).print;
[ true ]
(b.left = b.bottom).print;
[ true ]
(b.right = b.top).print;
[ true ]
(c.center = pln.src).print;
[ true ]
(pln.reverse.src = pln.dest).print;
[ true ]
(pgn.boundary.src = pgn.boundary.dest).print;
[ true ]
(polyline("(3:0,0,1,1,0,0)").interior.area = dbl(0)).print;
[ true ]
(pgns.reverse.select(1).count = 1).print;
[ true ]

quit;
