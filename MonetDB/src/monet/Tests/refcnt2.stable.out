stdout of test 'refcnt2` in directory 'src/monet` itself:


# 20:15:01 >  
# 20:15:01 >  Mtimeout -timeout 300 ./refcnt2 refcnt2 
# 20:15:01 >  


# 20:15:01 >  
# 20:15:01 >  Mtimeout -timeout 60 Mserver --config=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/etc/monet.conf --debug=10 --set monet_mod_path=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/lib/MonetDB --set gdk_dbfarm=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/var/MonetDB/dbfarm --set sql_logdir=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/var/MonetDB/log --set mapi_port=53356 --set sql_port=56392 --set monet_prompt= --trace --dbname=mTests_src_monet
# 20:15:01 >  

# Monet Database Server V4.3.13
# Copyright (c) 1993-2004, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.
# Inserting a transient BAT into another transient BAT increases the first
# (i.e., inserted) one's plevel.
# Removing all references to the "host"-BAT by hand correctly decreases the
# inserted BAT's plevel, again.
# However, removing all references to the "host"-BAT by quitting the Mserver
# does not decreases the inserted BAT's plevel, and hence leaves a
# persistent "orphan"-BAT behind...

b:=new(int,int);
b.rename("b");
a:=new(int,bat);
a.rename("a");
a.insert(1,b);
d:=new(int,int);
d.rename("d");
c:=new(int,bat);
c.rename("c");
c.insert(1,d);
dir;
#-----------------------------------------------------------------------------------------------------------------#
# name			| htype	| ttype	| count	| heat	| dirty		| status| kind	| refcnt| lrefcnt	  #
#-----------------------------------------------------------------------------------------------------------------#
[ "a",			  "int",  "BAT",  1,	  0,	  "dirty",	  "load", "tran", 0,	  1		  ]
[ "adm_acctbl",		  "str",  "int",  2,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "adm_atomtbl",	  "str",  "int",  14,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "adm_fcntbl",		  "str",  "oid",  658,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "b",			  "int",  "int",  0,	  0,	  "dirty",	  "load", "tran", 0,	  2		  ]
[ "c",			  "int",  "BAT",  1,	  0,	  "dirty",	  "load", "tran", 0,	  1		  ]
[ "d",			  "int",  "int",  0,	  0,	  "dirty",	  "load", "tran", 0,	  2		  ]
[ "monet_environment",	  "str",  "str",  28,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_aut",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_cnt",	  "oid",  "int",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_dat",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_dsc",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_fcn",	  "oid",  "ptr",  567,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_imp",	  "oid",  "ptr",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_mid",	  "oid",  "oid",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_nme",	  "oid",  "str",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_pro",	  "oid",  "str",  1613,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_sig",	  "oid",  "str",  40,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_tpe",	  "oid",  "int",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_acc",	  "oid",  "str",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_atm",	  "oid",  "str",  1,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_cnt",	  "oid",  "int",  17,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_dep",	  "oid",  "str",  9,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_drop",	  "oid",  "int",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_hdl",	  "oid",  "ptr",  8,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_load",	  "oid",  "str",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_nme",	  "oid",  "str",  17,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_proc",	  "str",  "oid",  91,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_use",	  "oid",  "int",  19,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_var",	  "str",  "ptr",  26,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_unicode_case",	  "int",  "int",  732,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
ls;
#-------------------------------------------------------------------------------------------------#
# name	| htype	| ttype	| count	| heat	| dirty		| status| kind	| refcnt| lrefcnt	  #
#-------------------------------------------------------------------------------------------------#
c:=nil;
dir;
#-----------------------------------------------------------------------------------------------------------------#
# name			| htype	| ttype	| count	| heat	| dirty		| status| kind	| refcnt| lrefcnt	  #
#-----------------------------------------------------------------------------------------------------------------#
[ "a",			  "int",  "BAT",  1,	  0,	  "dirty",	  "load", "tran", 0,	  1		  ]
[ "adm_acctbl",		  "str",  "int",  2,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "adm_atomtbl",	  "str",  "int",  14,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "adm_fcntbl",		  "str",  "oid",  658,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "b",			  "int",  "int",  0,	  0,	  "dirty",	  "load", "tran", 0,	  2		  ]
[ "d",			  "int",  "int",  0,	  0,	  "dirty",	  "load", "tran", 0,	  1		  ]
[ "monet_environment",	  "str",  "str",  28,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_aut",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_cnt",	  "oid",  "int",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_dat",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_dsc",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_fcn",	  "oid",  "ptr",  567,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_imp",	  "oid",  "ptr",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_mid",	  "oid",  "oid",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_nme",	  "oid",  "str",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_pro",	  "oid",  "str",  1613,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_sig",	  "oid",  "str",  40,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_tpe",	  "oid",  "int",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_acc",	  "oid",  "str",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_atm",	  "oid",  "str",  1,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_cnt",	  "oid",  "int",  17,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_dep",	  "oid",  "str",  9,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_drop",	  "oid",  "int",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_hdl",	  "oid",  "ptr",  8,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_load",	  "oid",  "str",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_nme",	  "oid",  "str",  17,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_proc",	  "str",  "oid",  91,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_use",	  "oid",  "int",  19,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_var",	  "str",  "ptr",  26,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_unicode_case",	  "int",  "int",  732,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
ls;
#-------------------------------------------------------------------------------------------------#
# name	| htype	| ttype	| count	| heat	| dirty		| status| kind	| refcnt| lrefcnt	  #
#-------------------------------------------------------------------------------------------------#
quit;   

# 20:15:02 >  
# 20:15:02 >  Mtimeout -timeout 60 Mserver --config=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/etc/monet.conf --debug=10 --set monet_mod_path=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/lib/MonetDB --set gdk_dbfarm=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/var/MonetDB/dbfarm --set sql_logdir=/var/tmp/_4.3.13-FixedPetersDDsync_PREFIX_MONET_GNU_32_d_--enable-warning_/var/MonetDB/log --set mapi_port=53356 --set sql_port=56392 --set monet_prompt= --trace --dbname=mTests_src_monet
# 20:15:02 >  

# Monet Database Server V4.3.13
# Copyright (c) 1993-2004, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.
dir;
#-----------------------------------------------------------------------------------------------------------------#
# name			| htype	| ttype	| count	| heat	| dirty		| status| kind	| refcnt| lrefcnt	  #
#-----------------------------------------------------------------------------------------------------------------#
[ "adm_acctbl",		  "str",  "int",  2,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "adm_atomtbl",	  "str",  "int",  14,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "adm_fcntbl",		  "str",  "oid",  658,	  0,	  "dirty",	  "load", "tran", 1,	  1		  ]
[ "monet_environment",	  "str",  "str",  28,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_aut",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_cnt",	  "oid",  "int",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_dat",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_dsc",	  "oid",  "str",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_fcn",	  "oid",  "ptr",  567,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_imp",	  "oid",  "ptr",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_mid",	  "oid",  "oid",  607,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_nme",	  "oid",  "str",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_pro",	  "oid",  "str",  1613,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_sig",	  "oid",  "str",  40,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_fcn_tpe",	  "oid",  "int",  658,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_acc",	  "oid",  "str",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_atm",	  "oid",  "str",  1,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_cnt",	  "oid",  "int",  17,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_dep",	  "oid",  "str",  9,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_drop",	  "oid",  "int",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_hdl",	  "oid",  "ptr",  8,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_load",	  "oid",  "str",  0,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_nme",	  "oid",  "str",  17,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_proc",	  "str",  "oid",  91,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_use",	  "oid",  "int",  19,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_mod_var",	  "str",  "ptr",  26,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
[ "monet_unicode_case",	  "int",  "int",  732,	  0,	  "dirty",	  "load", "tran", 1,	  0		  ]
ls;
#-------------------------------------------------------------------------------------------------#
# name	| htype	| ttype	| count	| heat	| dirty		| status| kind	| refcnt| lrefcnt	  #
#-------------------------------------------------------------------------------------------------#
a.print;
!WARNING: interpret: convert identifier 'a' to string.
[ "a" ]
b.print;
!WARNING: interpret: convert identifier 'b' to string.
[ "b" ]
c.print;
!WARNING: interpret: convert identifier 'c' to string.
[ "c" ]
d.print;
!WARNING: interpret: convert identifier 'd' to string.
[ "d" ]
quit;   

# 20:15:03 >  
# 20:15:03 >  Done.
# 20:15:03 >  

