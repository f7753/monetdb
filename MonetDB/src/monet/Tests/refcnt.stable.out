stdout of test 'refcnt` in directory 'src/monet` itself:


# 11:23:23 >  
# 11:23:23 >  Mtimeout -timeout 1788 ./refcnt refcnt 
# 11:23:23 >  


# 11:23:24 >  
# 11:23:24 >  Mtimeout -timeout 432 Mserver -monetrc /export/scratch1/monet/tmp/manegold.GNU_32-d.5370/monet/.GNU_32-d/Linux2.4.2-0.1.28smp/share/Monet/monet.Mtest.conf -db Tests_src_monet < refcnt.1.mil
# 11:23:24 >  

# Monet Database Server V4.3.3
# Copyright (c) 1993-2001, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.
# dbfarm:/export/scratch1/monet/tmp/manegold.GNU_32-d.5370/monet/.GNU_32-d/Linux2.4.2-0.1.28smp/dbfarm
# dbname:Tests_src_monet
# dbdir:/export/scratch1/monet/tmp/manegold.GNU_32-d.5370/monet/.GNU_32-d/Linux2.4.2-0.1.28smp/dbfarm/Tests_src_monet

loaded;
#---------------------------------#
# module	| usage_count	  #
#---------------------------------#
[ "algebra",	  1		  ]
[ "arith",	  1		  ]
[ "bat",	  1		  ]
[ "kernel",	  1		  ]
[ "str",	  1		  ]
[ "sys",	  1		  ]
[ "trans",	  1		  ]

Try: modules;                - for other modules.
     ls;                     - for persistent bat listing.
     sigs("<module>")        - for available commands per module.
     help("<command>")       - for help one-liner for a command.
 restart gives correct refcnt b from 0 to 1 
 since b is part of a and persistent expected refcnt should be 2 

# 11:23:25 >  
# 11:23:25 >  Mtimeout -timeout 432 Mserver -monetrc /export/scratch1/monet/tmp/manegold.GNU_32-d.5370/monet/.GNU_32-d/Linux2.4.2-0.1.28smp/share/Monet/monet.Mtest.conf -db Tests_src_monet < refcnt.2.mil
# 11:23:25 >  

# Monet Database Server V4.3.3
# Copyright (c) 1993-2001, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.
# dbfarm:/export/scratch1/monet/tmp/manegold.GNU_32-d.5370/monet/.GNU_32-d/Linux2.4.2-0.1.28smp/dbfarm
# dbname:Tests_src_monet
# dbdir:/export/scratch1/monet/tmp/manegold.GNU_32-d.5370/monet/.GNU_32-d/Linux2.4.2-0.1.28smp/dbfarm/Tests_src_monet

loaded;
#---------------------------------#
# module	| usage_count	  #
#---------------------------------#
[ "algebra",	  1		  ]
[ "arith",	  1		  ]
[ "bat",	  1		  ]
[ "kernel",	  1		  ]
[ "str",	  1		  ]
[ "sys",	  1		  ]
[ "trans",	  1		  ]

Try: modules;                - for other modules.
     ls;                     - for persistent bat listing.
     sigs("<module>")        - for available commands per module.
     help("<command>")       - for help one-liner for a command.
#-----------------------------------------------------------------------------------------#
# name	| htype	| ttype	| count	| heat	| dirty		| status| kind	| refcnt| plevel  #
#-----------------------------------------------------------------------------------------#
[ "a",	  "int",  "bat",  1,	  0,	  "clean",	  "disk", "pers", 0,	  1	  ]
[ "b",	  "int",  "int",  0,	  0,	  "clean",	  "disk", "pers", 0,	  2	  ]
#-----------------#
# BAT:	  a	  #
# (int)	  (BAT)	  #
#-----------------#
[ 1,	  <b>	  ]
#-----------------#
# BAT:	  b	  #
# (int)	  (int)	  #
#-----------------#

# 11:23:26 >  
# 11:23:26 >  Done.
# 11:23:26 >  

