stdout of test 'marcin2` in directory 'src/test` itself:


# 01:19:55 >  
# 01:19:55 >  Mtimeout -timeout 180 Mserver "--config=/var/tmp/monet.GNU_32-d.6359/monet/.GNU_32-d/Linux2.4.20-20.9perfctrsmp/etc/monet.conf" --debug=10 --set "monet_mod_path=/var/tmp/monet.GNU_32-d.6359/sql/Linux2.4.20-20.9perfctrsmp/src/backends/monet4/.libs:/var/tmp/monet.GNU_32-d.6359/monet/.GNU_32-d/Linux2.4.20-20.9perfctrsmp/lib/MonetDB" --set "gdk_dbfarm=/var/tmp/monet.GNU_32-d.6359/sql/Linux2.4.20-20.9perfctrsmp/dbfarm" --set "sql_logdir=/var/tmp/monet.GNU_32-d.6359/sql/Linux2.4.20-20.9perfctrsmp/log" --set mapi_port=53677 --set sql_port=54155 --set monet_prompt= --trace "--dbname=mTests_src_test" "/var/tmp/monet.GNU_32-d.6359/sql/Linux2.4.20-20.9perfctrsmp/src/backends/monet4/sql_server.mil" ; echo ; echo Over..
# 01:19:55 >  

# Monet Database Server V4.3.13
# Copyright (c) 1993-2003, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit; dynamically linked.
printf("\nReady.\n");

Ready.
quit;

Over..

# 01:19:56 >  
# 01:19:56 >  Mtimeout -timeout 60 Msql -u monetdb -P monetdb --host=draco --port=54155 --trace < marcin2.sql
# 01:19:56 >  

SQL  connected to database mTests_src_test using schema sys
#     0: create table t3(id int, val int);
#     1: insert into t3 values(2,6);
SQL  no Rows affected
#     2: insert into t3 values(2,NULL);
SQL  no Rows affected
#     3: insert into t3 values(2,5);
SQL  no Rows affected
#     4: insert into t3 values(1,NULL);
SQL  no Rows affected
#     5: insert into t3 values(1,5);
SQL  no Rows affected
#     6: insert into t3 values(1,6);
SQL  no Rows affected
#     7: insert into t3 values(NULL,5);
SQL  no Rows affected
#     8: insert into t3 values(NULL,6);
SQL  no Rows affected
#     9: insert into t3 values(NULL,NULL);
SQL  no Rows affected
#    10: -- those 2 don't sort (bad server_output?)
#    10: select * from t3 order by val;
#------------
#| id | val |
#------------
2	nil
nil	nil
1	nil
1	5
2	5
nil	5
1	6
nil	6
2	6
SQL  9 Rows affected
#    11: select * from t3 order by id;
#------------
#| id | val |
#------------
nil	6
nil	5
nil	nil
1	5
1	nil
1	6
2	nil
2	5
2	6
SQL  9 Rows affected
#    12: -- but those 2 do
#    12: select * from t3 order by val,id;
#------------
#| id | val |
#------------
nil	nil
1	nil
2	nil
nil	5
1	5
2	5
nil	6
1	6
2	6
SQL  9 Rows affected
#    13: select * from t3 order by id,val;
#------------
#| id | val |
#------------
nil	nil
nil	5
nil	6
1	nil
1	5
1	6
2	nil
2	5
2	6
SQL  9 Rows affected
#    14: -- this one works, and I think it shouldn't
#    14: --  postgres just sums the first column (result 9)
#    14: select sum(*) from t3;
SQL ERROR -1 2: Aggregate: Cannot do a sum(*) in:
-- this one works, and I think it shouldn't
--  postgres just sums the first column (result 9)
select sum(*) from t3;


#    15: -- this one, although wrong, results in core-dump of sql_client :)
#    15: --  postgres just sums the first column of the group (result (3,5)(3,6)(3,nil))
#    15: select sum(*),val from t3 group by val ;
SQL ERROR -1 2: Aggregate: Cannot do a sum(*) in:
-- this one, although wrong, results in core-dump of sql_client :)
--  postgres just sums the first column of the group (result (3,5)(3,6)(3,nil))
select sum(*),val from t3 group by val ;


#    16: drop table t3;
#    17: COMMIT;

# 01:19:56 >  
# 01:19:56 >  Done.
# 01:19:56 >  

