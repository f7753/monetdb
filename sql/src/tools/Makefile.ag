
MTSAFE
INCLUDES = -I$(MONET_PREFIX)/include -I$(MONET_PREFIX)/include/gdk -I$(MONET_PREFIX)/include/monet $(PTHREAD_INCS) 

CXXFLAGS = $(CFLAGS)

GDK_LIBS = $(PTHREAD_LIBS) $(MALLOC_LIBS)
MONET_LIBS = $(SOCKET_LIBS) $(DL_LIBS) $(GDK_LIBS)

STATIC_MODS = -L$(MONET_PREFIX)/lib/Monet \
	-l_kernel -l_arith \
	-l_bat -l_algebra \
	-l_sys -l_trans \
	-l_str

smallTOC_SHARED_MODS =	\
	-l_mapi	\
	-l_alarm	\
	-l_blob	\
	-l_ddbench	\
	-l_enum	\
	-l_io	\
	-l_unix	\
	-l_xtables	\
	-l_ascii_io	\
	-l_streams	\
	\
	../server/lib_sqlserver	\
	../client/lib_sql	\
	../server/lib_mvc

nonSQL_MODS = \
	-l_aggr	\
	-l_bitset	\
	-l_bitvector	\
	-l_cluster	\
	-l_decimal	\
	-l_lock	\
	-l_malalgebra	\
	-l_mmath	\
	-l_monettime	\
	-l_mprof	\
	-l_oo7	\
	-l_radix	\
	-l_salgebra	\
	-l_stats	\
	-l_tcpip	\
	-l_tpcd	\
	-l_uchr	\
	-l_url	\
	-l_wisc	\
	-l_logger	\
	-l_qt

largeTOC_SHARED_MODS =	\
	-l_vector	\
	-l_counters	\
	-l_iterator

CONFLICT_MODS =	\
	-l_perfex

EXTRA_DIST = static_modules.mx

bin_Mserver = {
	SOURCES = Mserver.mx initmodules.mx 
	LIBS = -L$(MONET_PREFIX)/lib -lmonet STATIC_MODS @SHARED_LIBS@ -lbat $(MONET_LIBS)
}

