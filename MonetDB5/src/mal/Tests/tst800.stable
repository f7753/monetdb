# Monet Database Server V5.0
# Copyright (c) 1993-2004, CWI. All rights reserved.
# compiled for 32biti686-pc-linux-gnu/32bit.
# config:/ufs/mk/monet5/src/mal/Tests/tst.conf
# dbfarm:/ufs/mk/monet5/Linux/var/MonetDB
# dbname:demo
## Testing global consts defined for all users
## It should travers the nested spaces looking for the correct variable
## take a local copy
#	v:str := const.take("version");
#	u:str := const.take("user");
#	db:str:= const.take("dbname");
#	df:str:= const.take("dbfarm");
##	dd:str:= const.take("distribution");
##	bb:bat[void,str] := const.take("environment");
#
## how to obtain a copy of all objects in a space?
##barrier (b,nme):= const.iterator();
#barrier b:= const.iterator(nme:str);
#	printf("%s=",nme);
#	val:str := const.toString(nme);
#	printf("%s\n",val);
#	redo b;
#exit b;
#
function Admin.main():int;	# 0  (main:int)
    v := const.take("version");	# 1 CONSTtake (v:str)<-($2:str)
    u := const.take("user");	# 2 CONSTtake (u:str)<-($4:str)
    db := const.take("dbname");	# 3 CONSTtake (db:str)<-($6:str)
    df := const.take("dbfarm");	# 4 CONSTtake (df:str)<-($8:str)
barrier b := const.iterator(nme);	# 5 CONSTiterator (b:lng)<-(nme:str) jump 10
    io.printf("%s=",nme);	# 6 SYSprint_formatted_str ($11:int)<-($12:str)(nme:str)
    val := const.toString(nme);	# 7 CONSTtoString (val:str)<-(nme:str)
    io.printf("%s\n",val);	# 8 SYSprint_formatted_str ($14:int)<-($15:str)(val:str)
    redo b;	# 9  (b:lng) jump 5
exit b;	# 10  (b:lng)
end main;	# 11  
user=Admin
dbname=demo
dbfarm=/ufs/mk/monet5/Linux/var/MonetDB
version=5.0
config=/ufs/mk/monet5/src/mal/Tests/tst.conf
STORE_MEM=0
STORE_MMAP=1
STORE_COMPR=2
BUF_NORMAL=0
BUF_RANDOM=1
BUF_SEQUENTIAL=2
BUF_WILLNEED=3
BUF_DONTNEED=4
EBUSY=16
M_E=2.7182818284590452354LL
M_LOG2E=1.4426950408889634074LL
M_LOG10E=0.43429448190325182765LL
M_LN2=0.69314718055994530942LL
M_LN10=2.30258509299404568402LL
M_PI=3.14159265358979323846LL
M_PI_2=1.57079632679489661923LL
M_PI_4=0.78539816339744830962LL
M_1_PI=0.31830988618379067154LL
M_2_PI=0.63661977236758134308LL
M_2_SQRTPI=1.12837916709551257390LL
M_SQRT2=1.41421356237309504880LL
M_SQRT1_2=0.70710678118654752440LL
pi=3.14700007
>