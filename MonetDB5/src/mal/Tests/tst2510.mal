# A exception in a factory should terminate it 

factory tryme():void;
    a:= bat.setWriteMode(b);
barrier always:= true;
    yield a;
    redo always;
exit always;
#catch MALexception;
    #print("exception");
#exit MALexception;
end tryme;
tryme();    # shouldn;t hang when you forget the exception
