# the first test for macro expansions and inversions

function algebra.joinPath( a:bat[:any$1,:any$2],
                b:bat[:any$2,:any$3],
                c:bat[:any$3,:any$4]):bat[:any$1,:any$4];
    z:= join(a,b);
    zz:= join(z,c);
    a:= zz;
end joinPath;

optimizer.MCoptimizer("algebra","joinPath");

a:= new(:int,:int);
b:= new(:int,:int);
c:= new(:int,:int);
g:= join(a,b);
h:= join(g,c);

showFunction();
