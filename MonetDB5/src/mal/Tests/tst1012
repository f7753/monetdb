# the first of a series of BBP test cases

bbp.open();
b:= new(:int,:int);
insert(b,1,2);
bbp.deposit("mysecondbat",b);
c:= bbp.take("mysecondbat");
print(c);
bat.setPersistent(b);
x:= bat.isPersistent(b);
z:= bat.isTransient(b);
print(x); print(z); print("");
bat.setTransient(b);
x:= bat.isPersistent(b);
z:= bat.isTransient(b);
print(x); print(z); print("");
bbp.close();
# at the end of the session, the BBP should have discarded
# the temporary bats of the user
# aug 02 this does not work, because the transaction is
# not properly closed. This means that a temporary bat
#remains in store.
bbp.open();
#v:= bat.take("mysecondbat");
print(v);
bbp.close();
