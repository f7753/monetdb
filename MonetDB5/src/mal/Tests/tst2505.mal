# The prototypical factory construct
# test factory return and restart

factory random(seed:int):int;
	i:= seed;
	i:= 125 *i;
	i:= i % 32767;
	yield i;
	i:= 125 *i;
	i:= i % 32767;
	return i;
end;

r1:= random(1);
print(r1);
r2:= random(34);
print(r2);
r2:= random(2);
print(r2);
r2:= random(2);
print(r2);
