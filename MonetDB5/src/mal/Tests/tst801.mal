# partial definition of the object space for MIL
# it is subordinate to the MIL space dealing with persistent bats
# CONST STORE_MEM   := 0; 
# CONST STORE_MMAP  := 1; 
# CONST STORE_COMPR := 2; 

module constants;

#the variables introduced in main are retained as globals
function main():void;
	deposit("STORE_MEM",0:int);
	deposit("STORE_MMAP",1:int);
	deposit("STORE_COMPR",2:int);
end main;

# take uses the 'root' versions.
function take(v:str):any;
	printf("looking for %s\n",v);
	w:= take(v);
	return w;
end take;

# release is overloaded for testing only
function release(v:any):void;
	BoxException:= "releasing a constant is forbidden";
	raise BoxException;
end release;

# accept the definition of a new constant
function deposit(v:any,name:str) = space_deposit;

