stdout of test 'tst4500` in directory 'src/mal` itself:


# 08:01:48 >  
# 08:01:48 >  Mtimeout -timeout 60 Mserver "--config=/ufs/mk/monet5/Linux/etc/MonetDB5.conf" --debug=10 --set "monet_mod_path=/ufs/mk/monet5/Linux/lib/MonetDB5:/ufs/mk/opensource/MonetDB/Linux/lib/MonetDB" --set "gdk_dbfarm=/ufs/mk/monet5/Linux/var/MonetDB5/dbfarm" --set "sql_logdir=/ufs/mk/monet5/Linux/var/MonetDB5/log" --set mapi_port=42158 --set sql_port=55708 --set monet_prompt= --trace "--config=/ufs/mk/monet5/src/mal/Tests/All.conf" --dbname=mTests_src_mal  tst4500.mal </dev/null
# 08:01:48 >  

# Monet Database Server V4.99.19
# Copyright (c) 1993-2004, CWI. All rights reserved.
# Compiled for i686-redhat-linux-gnu/32bit; dynamically linked.
# config:/ufs/mk/monet5/Linux/etc/MonetDB5.conf
# dbfarm:/ufs/mk/monet5/Linux/var/MonetDB5/dbfarm
# dbname:mTests_src_mal
# Visit http://monetdb.cwi.nl/ for further information.
## Beware this is not the correct TPC-1, but a merely a test
#include sql;
#debugOptimizers();
#CXoptimizer();
#ARoptimizer();
#DCoptimizer();
#quit();
##s14 := sql.bind("sys",  "lineitem", "l_shipdate"); #lineitem
#	myc:= bbp.bind("myc");
#	s14:bat[:void,:date] := sql.bind("sys","lineitem","l_shipdate",0);
##s16 := date("1998-12-01");
#	s16 := date("1998-12-01");
##s17 := 7776000;
#	s17 := 7776000;
##s15 := date_sub_sec_interval(s16,s17);
##s13 := s14.uselect(date(nil), s15);
#	zz:= nil:str;
#	aa_a := date(zz);
#	s13 := uselect(s14,aa_a,aa_a);
##s12 := s13.reverse();
#	s12 := reverse(s13,);
##s11 := s12.reverse().mark(oid(0)).reverse();# lineitem
#	ba_a := oid(0);
#	ca_a := reverse(s12,);
#	da_a := mark(ca_a,ba_a);
#	s11 := reverse(da_a,);
##s18 := sql.bind("sys",  "lineitem", "l_returnflag"); #lineitem
#	s18:bat[:void,:chr] := sql.bind("sys","lineitem","l_returnflag",0);
##s10 := s11.join(s18);
#	s10 := join(s11,s18);
##s9 := s10.group();
#	s9 := group(s10,);
##s20 := sql.bind("sys",  "lineitem", "l_linestatus"); #lineitem
#	s20:bat[:void,:chr] := sql.bind("sys","lineitem","l_linestatus",0);
##s19 := s11.join(s20);
#	s19 := join(s11,s20);
##s8 := s9.group(s19);
#	s8 := group(s9,s19);
##s7 := s8.tunique().mirror();
#	ea_a := tunique(s8,);
#	s7 := mirror(ea_a,);
##s6 := s7.join(s11);
#	s6 := join(s7,s11);
##s5 := s6.join(s18);
#	s5 := join(s6,s18);
##s4 := s5.reverse().sort().reverse();
#	fa_a := reverse(s5,);
#	ga_a := sort(fa_a,);
#	s4 := reverse(ga_a,);
##s22 := s7.join(s11);
#	s22 := join(s7,s11);
##s21 := s22.join(s20);
#	s21 := join(s22,s20);
##s3 := s4.CTrefine(s21);
#	s3 := refine(s4,s21);
##s25 := s11.join(s18);
#	s25 := join(s11,s18);
##s24 := s7.join(s25);
#	s24 := join(s7,s25);
##s27 := s11.join(s20);
#	s27 := join(s11,s20);
##s26 := s7.join(s27);
#	s26 := join(s7,s27);
##s31 := sql.bind("sys",  "lineitem", "l_quantity"); #lineitem
#	s31:bat[:void,:int] := sql.bind("sys","lineitem","l_quantity",0);
##s30 := s11.join(s31);
#	s30 := join(s11,s31);
##s29 := {sum}(s30, s8, s7);
#	s29 := group.sum(s30,s8);
##s35 := sql.bind("sys",  "lineitem", "l_extendedprice"); #lineitem
#	s35:bat[:void,:int] := sql.bind("sys","lineitem","l_extendedprice",0);
##s34 := s11.join(s35);
#	s34 := join(s11,s35);
##s33 := {sum}(s34, s8, s7);
#	s33 := group.sum(s34,s8);
##s39 := s11.join(s35);
#	s39 := join(s11,s35);
##s42 := 1;
#	s42 := 1;
##s41 := flt(s42);
#	s41 := flt(s42);
##s44 := sql.bind("sys",  "lineitem", "l_discount"); #lineitem
#	s44:bat[:void,:int] := sql.bind("sys","lineitem","l_discount",0);
##s43 := s11.join(s44);
#	s43 := join(s11,s44);
##s45 := [s43 ~ s41];
#	ha_a:= zipper(s43,s41);
#	s45 := ha_a;
##s40 := [-](s45,s43);
#	s40 := multiplex.tactics("-",s45,s43);
##s38 := [*](s39,s40);
#	s38 := multiplex.tactics("*",s39,s40);
##s37 := {sum}(s38, s8, s7);
#	s37 := group.sum(s38,s8);
##s50 := s11.join(s35);
#	s50 := join(s11,s35);
##s53 := 1;
#	s53 := 1;
##s52 := flt(s53);
#	s52 := flt(s53);
##s54 := s11.join(s44);
#	s54 := join(s11,s44);
##s55 := [s54 ~ s52];
#	ia_a:= zipper(s54,s52);
#	s55 := ia_a;
##s51 := [-](s55,s54);
#	s51 := multiplex.tactics("-",s55,s54);
##s49 := [*](s50,s51);
#	s49 := multiplex.tactics("*",s50,s51);
##s58 := 1;
#	s58 := 1;
##s57 := flt(s58);
#	s57 := flt(s58);
##s60 := sql.bind("sys",  "lineitem", "l_tax"); #lineitem
#	s60:bat[:void,:int] := sql.bind("sys","lineitem","l_tax",0);
##s59 := s11.join(s60);
#	s59 := join(s11,s60);
##s61 := [s59 ~ s57];
#	ja_a:= zipper(s59,s57);
#	s61 := ja_a;
##s56 := [+](s61,s59);
#	s56 := multiplex.tactics("+",s61,s59);
##s48 := [*](s49,s56);
#	s48 := multiplex.tactics("*",s49,s56);
##s47 := {sum}(s48, s8, s7);
#	s47 := group.sum(s48,s8);
##s64 := s11.join(s31);
#	s64 := join(s11,s31);
##s63 := {avg}(s64, s8, s7);
#	s63 := group.avg(s64,s8);
##s67 := s11.join(s35);
#	s67 := join(s11,s35);
##s66 := {avg}(s67, s8, s7);
#	s66 := group.avg(s67,s8);
##s70 := s11.join(s44);
#	s70 := join(s11,s44);
##s69 := {avg}(s70, s8, s7);
#	s69 := group.avg(s70,s8);
##s72 := {count}(s8, s8, s7);
##	s72 := group.count(s8,s8);
#print(s64,s67,s66,s70,s69);
#
!ERROR: RETURN type mismatch at type 67078
!ERROR: Error in cloned function
!ERROR: function mil_algebra_procs.tunique(b:bat[:any,:oid]):bat[:oid,:void];	# 0  (tunique:bat[:oid,:void])<-(b:bat[:any,:oid])
!ERROR:     qd_a := bat.reverse(b);	# 1 BKCreverse (qd_a:bat[:oid,:any])<-(b:bat[:any,:oid])
!ERROR:     rd_a := algebra.mark(qd_a,nil);	# 2 ALGmark0 (rd_a:bat[:oid,:oid])<-(qd_a:bat[:oid,:any])($4:void)
!ERROR:     return sd_a := algebra.kunique(rd_a);	# 3 ALGkunique (sd_a:bat[:oid,:oid])<-(rd_a:bat[:oid,:oid])
!ERROR: end tunique;	# 4  
!ERROR: 'mil_algebra_procs.tunique' undefined in Admin.main[24]
function Admin.main():int;	# 0  (main:int)
    optimizer.setDebug();	# 1 QOTdebugOptimizers ($1:void)
    optimizer.CXoptimizer();	# 2 QOTCXoptimizer ($2:str)
    optimizer.ARoptimizer();	# 3 QOTARoptimizer ($3:str)
    optimizer.DCoptimizer();	# 4 QOTDCoptimizer ($4:str)
    clients.quit();	# 5 CLTquit ($5:void)
    myc := bbp.bind("myc");	# 6 CMDbbpbind (myc:bat[:any,:any])<-($7:str)
    s14 := sql.bind("sys","lineitem","l_shipdate",0);	# 7 mvc_bind_wrap (s14:bat[:void,:date])<-($9:str)($10:str)($11:str)($12:int)
    s16 := mtime.date("1998-12-01");	# 8 MTIMEdate_fromstr (s16:date)<-($14:str)
    s17 := 7776000;	# 9  (s17:int)<-($16:int)
    zz := "nil:str";	# 10  (zz:str)<-($18:str)
    aa_a := mtime.date(zz);	# 11 MTIMEdate_fromstr (aa_a:date)<-(zz:str)
    s13 := algebra.uselect(s14,aa_a,aa_a);	# 12 ALGuselect (s13:bat[:void,:void])<-(s14:bat[:void,:date])(aa_a:date)(aa_a:date)
    s12 := bat.reverse(s13);	# 13 BKCreverse (s12:bat[:void,:void])<-(s13:bat[:void,:void])
    ba_a := calc.oid(0);	# 14 CALCint2oid (ba_a:oid)<-($12:int)
    ca_a := bat.reverse(s12);	# 15 BKCreverse (ca_a:bat[:void,:void])<-(s12:bat[:void,:void])
    da_a := algebra.mark(ca_a,ba_a);	# 16 ALGmark (da_a:bat[:void,:oid])<-(ca_a:bat[:void,:void])(ba_a:oid)
    s11 := bat.reverse(da_a);	# 17 BKCreverse (s11:bat[:oid,:void])<-(da_a:bat[:void,:oid])
    s18 := sql.bind("sys","lineitem","l_returnflag",0);	# 18 mvc_bind_wrap (s18:bat[:void,:chr])<-($9:str)($10:str)($27:str)($12:int)
    s10 := algebra.join(s11,s18);	# 19 ALGjoin (s10:bat[:oid,:chr])<-(s11:bat[:oid,:void])(s18:bat[:void,:chr])
    s9 := group.group(s10);	# 20 GRPgroup2 (s9:bat[:oid,:oid])<-(s10:bat[:oid,:chr])
    s20 := sql.bind("sys","lineitem","l_linestatus",0);	# 21 mvc_bind_wrap (s20:bat[:void,:chr])<-($9:str)($10:str)($31:str)($12:int)
    s19 := algebra.join(s11,s20);	# 22 ALGjoin (s19:bat[:oid,:chr])<-(s11:bat[:oid,:void])(s20:bat[:void,:chr])
    s8 := group.group(s9,s19);	# 23 GRPderive2 (s8:bat[:oid,:oid])<-(s9:bat[:oid,:oid])(s19:bat[:oid,:chr])
    ea_a := mil_algebra_procs.tunique(s8);	# 24  (ea_a:bat[:oid,:void])<-(s8:bat[:oid,:oid])
    s7 := bat.mirror(ea_a);	# 25 BKCmirror (s7:bat[:oid,:oid])<-(ea_a:bat[:oid,:void])
    s6 := algebra.join(s7,s11);	# 26 ALGjoin (s6:bat[:oid,:void])<-(s7:bat[:oid,:oid])(s11:bat[:oid,:void])
    s5 := algebra.join(s6,s18);	# 27 ALGjoin (s5:bat[:oid,:chr])<-(s6:bat[:oid,:void])(s18:bat[:void,:chr])
    fa_a := bat.reverse(s5);	# 28 BKCreverse (fa_a:bat[:chr,:oid])<-(s5:bat[:oid,:chr])
    ga_a := algebra.sort(fa_a);	# 29 ALGsort (ga_a:bat[:chr,:oid])<-(fa_a:bat[:chr,:oid])
    s4 := bat.reverse(ga_a);	# 30 BKCreverse (s4:bat[:oid,:chr])<-(ga_a:bat[:chr,:oid])
    s22 := algebra.join(s7,s11);	# 31 ALGjoin (s22:bat[:oid,:void])<-(s7:bat[:oid,:oid])(s11:bat[:oid,:void])
    s21 := algebra.join(s22,s20);	# 32 ALGjoin (s21:bat[:oid,:chr])<-(s22:bat[:oid,:void])(s20:bat[:void,:chr])
    s3 := group.refine(s4,s21);	# 33 GRPrefine (s3:bat[:oid,:oid])<-(s4:bat[:oid,:chr])(s21:bat[:oid,:chr])
    s25 := algebra.join(s11,s18);	# 34 ALGjoin (s25:bat[:oid,:chr])<-(s11:bat[:oid,:void])(s18:bat[:void,:chr])
    s24 := algebra.join(s7,s25);	# 35 ALGjoin (s24:bat[:oid,:chr])<-(s7:bat[:oid,:oid])(s25:bat[:oid,:chr])
    s27 := algebra.join(s11,s20);	# 36 ALGjoin (s27:bat[:oid,:chr])<-(s11:bat[:oid,:void])(s20:bat[:void,:chr])
    s26 := algebra.join(s7,s27);	# 37 ALGjoin (s26:bat[:oid,:chr])<-(s7:bat[:oid,:oid])(s27:bat[:oid,:chr])
    s31 := sql.bind("sys","lineitem","l_quantity",0);	# 38 mvc_bind_wrap (s31:bat[:void,:int])<-($49:str)($50:str)($51:str)($52:int)
    s30 := algebra.join(s11,s31);	# 39 ALGjoin (s30:bat[:oid,:int])<-(s11:bat[:oid,:void])(s31:bat[:void,:int])
    s29 := group.sum(s30,s8);	# 40 GRPsum_int (s29:bat[:oid,:int])<-(s30:bat[:oid,:int])(s8:bat[:oid,:oid])
    s35 := sql.bind("sys","lineitem","l_extendedprice",0);	# 41 mvc_bind_wrap (s35:bat[:void,:int])<-($49:str)($50:str)($56:str)($52:int)
    s34 := algebra.join(s11,s35);	# 42 ALGjoin (s34:bat[:oid,:int])<-(s11:bat[:oid,:void])(s35:bat[:void,:int])
    s33 := group.sum(s34,s8);	# 43 GRPsum_int (s33:bat[:oid,:int])<-(s34:bat[:oid,:int])(s8:bat[:oid,:oid])
    s39 := algebra.join(s11,s35);	# 44 ALGjoin (s39:bat[:oid,:int])<-(s11:bat[:oid,:void])(s35:bat[:void,:int])
    s42 := 1;	# 45  (s42:int)<-($61:int)
    s41 := calc.flt(s42);	# 46 CALCint2flt (s41:flt)<-(s42:int)
    s44 := sql.bind("sys","lineitem","l_discount",0);	# 47 mvc_bind_wrap (s44:bat[:void,:int])<-($49:str)($50:str)($64:str)($52:int)
    s43 := algebra.join(s11,s44);	# 48 ALGjoin (s43:bat[:oid,:int])<-(s11:bat[:oid,:void])(s44:bat[:void,:int])
    ha_a := batcalc.zipper(s43,s41);	# 49 CMDfilltail_flt (ha_a:bat[:oid,:flt])<-(s43:bat[:oid,:int])(s41:flt)
    s45 := ha_a;	# 50  (s45:bat[:oid,:flt])<-(ha_a:bat[:oid,:flt])
    s40 := multiplex.script("-",s45,s43);	# 51  (s40:bat[:oid,:flt])<-($69:str)(s45:bat[:oid,:flt])(s43:bat[:oid,:int])
    s38 := multiplex.script("*",s39,s40);	# 52  (s38:bat[:oid,:flt])<-($71:str)(s39:bat[:oid,:int])(s40:bat[:oid,:flt])
    s37 := group.sum(s38,s8);	# 53 GRPsum_flt (s37:bat[:oid,:flt])<-(s38:bat[:oid,:flt])(s8:bat[:oid,:oid])
    s50 := algebra.join(s11,s35);	# 54 ALGjoin (s50:bat[:oid,:int])<-(s11:bat[:oid,:void])(s35:bat[:void,:int])
    s53 := 1;	# 55  (s53:int)<-($61:int)
    s52 := calc.flt(s53);	# 56 CALCint2flt (s52:flt)<-(s53:int)
    s54 := algebra.join(s11,s44);	# 57 ALGjoin (s54:bat[:oid,:int])<-(s11:bat[:oid,:void])(s44:bat[:void,:int])
    ia_a := batcalc.zipper(s54,s52);	# 58 CMDfilltail_flt (ia_a:bat[:oid,:flt])<-(s54:bat[:oid,:int])(s52:flt)
    s55 := ia_a;	# 59  (s55:bat[:oid,:flt])<-(ia_a:bat[:oid,:flt])
    s51 := multiplex.script("-",s55,s54);	# 60  (s51:bat[:oid,:flt])<-($69:str)(s55:bat[:oid,:flt])(s54:bat[:oid,:int])
    s49 := multiplex.script("*",s50,s51);	# 61  (s49:bat[:oid,:flt])<-($71:str)(s50:bat[:oid,:int])(s51:bat[:oid,:flt])
    s58 := 1;	# 62  (s58:int)<-($61:int)
    s57 := calc.flt(s58);	# 63 CALCint2flt (s57:flt)<-(s58:int)
    s60 := sql.bind("sys","lineitem","l_tax",0);	# 64 mvc_bind_wrap (s60:bat[:void,:int])<-($84:str)($85:str)($86:str)($87:int)
    s59 := algebra.join(s11,s60);	# 65 ALGjoin (s59:bat[:oid,:int])<-(s11:bat[:oid,:void])(s60:bat[:void,:int])
    ja_a := batcalc.zipper(s59,s57);	# 66 CMDfilltail_flt (ja_a:bat[:oid,:flt])<-(s59:bat[:oid,:int])(s57:flt)
    s61 := ja_a;	# 67  (s61:bat[:oid,:flt])<-(ja_a:bat[:oid,:flt])
    s56 := multiplex.script("+",s61,s59);	# 68  (s56:bat[:oid,:flt])<-($92:str)(s61:bat[:oid,:flt])(s59:bat[:oid,:int])
    s48 := batcalc.*(s49,s56);	# 69 CMDbatMUL (s48:bat[:oid,:flt])<-(s49:bat[:oid,:flt])(s56:bat[:oid,:flt])
    s47 := group.sum(s48,s8);	# 70 GRPsum_flt (s47:bat[:oid,:flt])<-(s48:bat[:oid,:flt])(s8:bat[:oid,:oid])
    s64 := algebra.join(s11,s31);	# 71 ALGjoin (s64:bat[:oid,:int])<-(s11:bat[:oid,:void])(s31:bat[:void,:int])
    s63 := group.avg(s64,s8);	# 72 GRPavg_int (s63:bat[:oid,:int])<-(s64:bat[:oid,:int])(s8:bat[:oid,:oid])
    s67 := algebra.join(s11,s35);	# 73 ALGjoin (s67:bat[:oid,:int])<-(s11:bat[:oid,:void])(s35:bat[:void,:int])
    s66 := group.avg(s67,s8);	# 74 GRPavg_int (s66:bat[:oid,:int])<-(s67:bat[:oid,:int])(s8:bat[:oid,:oid])
    s70 := algebra.join(s11,s44);	# 75 ALGjoin (s70:bat[:oid,:int])<-(s11:bat[:oid,:void])(s44:bat[:void,:int])
    s69 := group.avg(s70,s8);	# 76 GRPavg_int (s69:bat[:oid,:int])<-(s70:bat[:oid,:int])(s8:bat[:oid,:oid])
    io.print(s64,s67,s66,s70,s69);	# 77 IOtable ($101:int)<-(s64:bat[:oid,:int])(s67:bat[:oid,:int])(s66:bat[:oid,:int])(s70:bat[:oid,:int])(s69:bat[:oid,:int])
end main;	# 78  

# 08:01:48 >  
# 08:01:48 >  Done.
# 08:01:48 >  

