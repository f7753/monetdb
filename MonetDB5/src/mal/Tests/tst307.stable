# Monet Database Server V5.0
# Copyright (c) 1993-2003, CWI. All rights reserved.
# compiled for 32biti686-pc-linux-gnu/32bit.
# config:/ufs/mk/monet_5/src/mal/Tests/tst.conf
# dbfarm:/ufs/mk/monet_5/Linux/var/MonetDB
# dbname:demo
##testing exceptions raised in the kernel
#
#b:= new(int,int);
#z:= find(b,0);
#print("should not come here anymore");
#catch MALexception;
#	print("catched the exception");
#exit MALexception;
#
function Admin.main():int; #0  (main:int)
    b := mal.new(int,int); #1 CMDBATnew (b:bat[int,int])<-(int:int)(int:int)
    z := algebra.find(b,0); #2 CMDfind (z:int)<-(b:bat[int,int])($4:int)
    io.print("should not come here anymore"); #3 CMDprint_val ($5:int)<-($6:str)
catch MALexception; #4  (MALexception:str) jump 6
    io.print("catched the exception"); #5 CMDprint_val ($8:int)<-($9:str)
exit MALexception; #6  (MALexception:str)
end main; #7  
[ "catched the exception" ]
>