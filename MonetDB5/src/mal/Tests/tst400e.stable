# Monet Database Server V5.0
# Copyright (c) 1993-2001, CWI. All rights reserved.
# compiled for i686-pc-linux-gnu/32bit.
# gdk_dbfarm:/ufs/mk/monet_5-0/Linux/../dbfarm
# gdk_dbname:demo
# gdk_dbdir:/ufs/mk/monet_5-0/Linux/../dbfarm/demo
# gdk_distr:/ufs/mk/monet_5-0/Linux
# monetrc:/ufs/mk/.monet.conf
## simple test of a function call 
## performance evaluation, how expensive are 100k calls?
#
#function simple(z:lng):lng;
#	z:= z+1:lng;  #type cast is error
#	return z;
#end function;
function simple(z:lng):lng;	#0:(simple:lng->0)(z:lng->1)
	z := arith.+(z,1);	#1:(z:lng->1)(z:lng->1)($14:lng->14)
	return z;	#2:(z:lng->1)
end function;	#3:
#
#	k:= 0:lng;
#barrier	v:= k<1000000:lng;
#	k:= simple(k);
#	redo v;
#end	v;
#
function Client.main():int;	#0:(main:int->0)
	k := 0;	#1:(k:lng->13)($14:lng->14)
barrier	v := arith.<(k,1000000);	#2:(v:bit->15)(k:lng->13)($16:lng->16)
	k := Client.simple(k);	#3:(k:lng->13)(k:lng->13)
	redo v ;	#4:(v:bit->15)
end	v;	#5:(v:bit->15)
end function;	#6:
