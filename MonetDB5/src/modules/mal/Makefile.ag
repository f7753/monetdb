
INCLUDES =  -I../../common -I../../gdk \
        -I../../modules/atoms \
        -I../../mal $(Z_CFLAGS) $(BZ_CFLAGS)

MTSAFE

LIBS = {
	DIR = pkglibdir
	SEP = _
	SOURCES = \
		chopper.mx language.mx box.mx multiplex.mx  \
		atoms.mx profiler.mx const.mx bbp.mx io.mx \
		enum.mx streams.mx inspect.mx crackers.mx \
		thread.mx optimizer.mx clients.mx tablet.mx \
		transaction.mx

	HEADERS = h 
	SCRIPTS = mal mil ""
	LIBS = ../common/libmutils ../common/libstream ../../gdk/libbat \
		$(SOCKET_LIBS) $(MALLOC_LIBS) $(PTHREAD_LIBS) $(DL_LIBS)
}
doc_mal = {
	DIR = pkgdatadir/docs/modules/mal
	SOURCES = \
		startup.mx mal_init.mx language.mx box.mx multiplex.mx  \
		atoms.mx profiler.mx const.mx bbp.mx io.mx \
		enum.mx streams.mx inspect.mx crackers.mx \
		chopper.mx thread.mx optimizer.mx clients.mx tablet.mx \
		transaction.mx
}

scripts_mal = {
	DIR = pkglibdir
	SOURCES = language.mx mal_init.mx box.mx multiplex.mx  \
		atoms.mx profiler.mx const.mx bbp.mx io.mx \
		enum.mx streams.mx inspect.mx crackers.mx \
		chopper.mx thread.mx optimizer.mx clients.mx tablet.mx \
		transaction.mx
}

EXTRA_DIST_DIR = Tests
