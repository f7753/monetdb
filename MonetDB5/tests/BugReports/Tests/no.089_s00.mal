# Monet Mil to Mal compiler
# Copyright (c) 2001-2004, CWI. All rights reserved.

# Predefined code segment
#The compiler can not guarantee an accurate compilation,
#because MIL unlike MAL is a dynamically typed language.
#A few guidelines to maximize usefullness.
#- make the type of variables explicit, in particular 'nil'
#- upon advice of M2m to remap identifiers, change it in your program directly
#var Server:= new(oid,url).persists(true).rename("Server");
	aa_a := new(:oid,:url);
	ba_a := persists(aa_a,true);
	Server := bat.setName(ba_a,"Server");
#var Server2:= new(oid,url).persists(true).rename("Server2");
	ca_a := new(:oid,:url);
	da_a := persists(ca_a,true);
	Server2 := bat.setName(da_a,"Server2");
#var Clients:= new(oid,int).persists(true).rename("Clients");
	ea_a := new(:oid,:int);
	fa_a := persists(ea_a,true);
	Clients := bat.setName(fa_a,"Clients");
#var Clients2:= new(oid,int).persists(true).rename("Clients2");
	ga_a := new(:oid,:int);
	ha_a := persists(ga_a,true);
	Clients2 := bat.setName(ha_a,"Clients2");
#commit();
	ia_a := commit();
#Server.insert(oid(1),url("http://www.cwi.nl/")); 
	ja_a := oid(1);
	ka_a := url("http://www.cwi.nl/");
	la_a := insert(Server,ja_a,ka_a);
#Server2.insert(oid(1),url("http://www.cwi.nl/")); 
	ma_a := oid(1);
	na_a := url("http://www.cwi.nl/");
	oa_a := insert(Server2,ma_a,na_a);
#Clients.insert(oid(1),3); 
	pa_a := oid(1);
	qa_a := insert(Clients,pa_a,3);
#Clients2.insert(oid(1),3); 
	ra_a := oid(1);
	sa_a := insert(Clients2,ra_a,3);
#Server.print();
	ta_a := print(Server,);
#Server2.print();
	ua_a := print(Server2,);
#Clients.print();
	va_a := print(Clients,);
#Clients2.print();
	wa_a := print(Clients2,);
#dir("Server");
	xa_a := dir("Server");
#dir("Clients");
	ya_a := dir("Clients");
#unload("Server");
	ab_a := unload("Server");
#unload("Clients");
	bb_a := unload("Clients");
#dir("Server");
	cb_a := dir("Server");
#dir("Clients");
	db_a := dir("Clients");
#abort();
	eb_a := abort();
#dir("Server");
	fb_a := dir("Server");
#dir("Clients");
	gb_a := dir("Clients");
#Server.print();
	hb_a := print(Server,);
#Server2.print();
	ib_a := print(Server2,);
#Clients.print();
	jb_a := print(Clients,);
#Clients2.print();
	kb_a := print(Clients2,);
#quit();
	lb_a := quit();
#Identifer 'rename' mapped to 'bat.setName'
